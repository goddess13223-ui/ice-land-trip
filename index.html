<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>å†°å³¶è‡ªé§•åŠ©ç† 2026</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;700&display=swap" rel="stylesheet">
    <style>
        :root { --primary: #2c3e50; --accent: #3498db; --danger: #e74c3c; --success: #2ecc71; --bg: #f4f7f6; --card: #ffffff; }
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        body { font-family: 'Noto Sans TC', sans-serif; margin: 0; background: var(--bg); color: #2c3e50; overflow-x: hidden; }

        /* SPA Layout & Animations [cite: 4, 5] */
        .page { display: none; padding: 20px 15px 100px; animation: slideIn 0.3s ease-out; }
        .page.active { display: block; }
        @keyframes slideIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* Dashboard & Alerts [cite: 8, 25] */
        .dashboard { background: linear-gradient(135deg, #1e3c72, #2a5298); color: white; padding: 20px; border-radius: 15px; margin-bottom: 20px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); }
        .alert-box { background: var(--danger); border: 2px solid white; padding: 10px; border-radius: 8px; margin-bottom: 15px; font-weight: bold; display: none; }

        /* Quick Links */
        .grid-links { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 20px; }
        .link-card { background: white; padding: 12px; border-radius: 10px; text-decoration: none; color: #2c3e50; text-align: center; box-shadow: 0 2px 5px rgba(0,0,0,0.05); font-weight: bold; border: 1px solid #eee; }

        /* Day Swiper [cite: 6] */
        .day-nav { overflow-x: auto; display: flex; gap: 8px; padding-bottom: 15px; scrollbar-width: none; }
        .day-nav::-webkit-scrollbar { display: none; }
        .day-btn { flex: 0 0 auto; padding: 8px 16px; border-radius: 20px; border: 1px solid var(--accent); background: white; color: var(--accent); cursor: pointer; }
        .day-btn.active { background: var(--accent); color: white; }

        /* Expense & Checklist [cite: 28, 32] */
        .tool-card { background: white; border-radius: 15px; padding: 20px; margin-bottom: 20px; box-shadow: 0 2px 10px rgba(0,0,0,0.05); }
        .input-group { display: flex; gap: 5px; margin-bottom: 15px; }
        input { padding: 10px; border: 1px solid #ddd; border-radius: 5px; flex: 1; }
        .expense-item, .check-item { display: flex; justify-content: space-between; padding: 12px 0; border-bottom: 1px solid #eee; align-items: center; }
        .check-item label { flex: 1; margin-left: 10px; }
        input[type="checkbox"] { width: 20px; height: 20px; }

        /* Itinerary Cards [cite: 18] */
        .card { background: white; border-radius: 15px; margin-bottom: 20px; overflow: hidden; box-shadow: 0 4px 12px rgba(0,0,0,0.08); }
        .card img { width: 100%; height: 180px; object-fit: cover; }
        .card-content { padding: 15px; }
        .btn-map { display: block; background: var(--success); color: white; text-align: center; padding: 12px; border-radius: 10px; text-decoration: none; font-weight: bold; margin-top: 10px; }

        /* Bottom Nav [cite: 6] */
        .bottom-nav { position: fixed; bottom: 0; width: 100%; height: 75px; background: white; display: flex; justify-content: space-around; align-items: center; box-shadow: 0 -2px 10px rgba(0,0,0,0.1); z-index: 1000; }
        .nav-item { border: none; background: none; color: #95a5a6; font-size: 12px; cursor: pointer; }
        .nav-item.active { color: var(--accent); font-weight: bold; }
        
        /* Focus Mode  */
        #focus-modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: black; color: white; z-index: 2000; flex-direction: column; justify-content: center; align-items: center; text-align: center; padding: 20px; }
    </style>
</head>
<body>

    <div id="focus-modal" onclick="this.style.display='none'">
        <div id="focus-text"></div>
        <p style="margin-top: 30px; opacity: 0.5;">é»æ“Šè¿”å›</p>
    </div>

    <div id="page-home" class="page active">
        <div class="dashboard">
            <h2>å†°å³¶è‡ªé§•åŠ©ç† ğŸ‡®ğŸ‡¸</h2>
            <div id="storm-alert" class="alert-box">âš ï¸ æš´é¢¨è­¦å‘Šï¼šè«‹æª¢æŸ¥ Road.is è·¯æ³ï¼</div>
            <p>2026/09/27 - 10/12 [cite: 39]</p>
        </div>
        
        <h3>å¯¦æ™‚ç›£æ¸¬é€£çµ </h3>
        <div class="grid-links">
            <a href="https://en.vedur.is/weather/forecasts/aurora/" target="_blank" class="link-card">ğŸŒŒ æ¥µå…‰é æ¸¬</a>
            <a href="https://www.road.is/" target="_blank" class="link-card">ğŸš— è·¯æ³æŸ¥è©¢</a>
            <a href="https://safetravel.is/" target="_blank" class="link-card">ğŸ†˜ å®‰å…¨è­¦å‘Š</a>
            <a href="https://www.lotuscarrental.is/" target="_blank" class="link-card">ç§Ÿè»Šå…¬å¸</a>
        </div>

        <h3>å–è»Šè³‡è¨Š [cite: 46-49]</h3>
        <div class="tool-card">
            <strong>LOTUS Car Rental</strong><br>
            å¯†ç¢¼: +354 7874444<br>
            é›»è©±: +354 787 4444
        </div>
    </div>

    <div id="page-itinerary" class="page">
        <div class="day-nav" id="day-tabs"></div>
        <div id="itinerary-content"></div>
    </div>

    <div id="page-lang" class="page">
        <h3>æºé€šè¼”åŠ©åœ–å¡ [cite: 14]</h3>
        <div class="tool-card" onclick="showFocus('Takk fyrir','Thank you')">è¬è¬: Takk fyrir</div>
        <div class="tool-card" onclick="showFocus('Hvar er klÃ³settiÃ°?','Where is the toilet?')">å»æ‰€åœ¨å“ªï¼Ÿ: Hvar er klÃ³settiÃ°?</div>
        <div class="tool-card" onclick="showFocus('Reikninginn, takk','The bill, please')">çµå¸³: Reikninginn, takk</div>
    </div>

    <div id="page-tools" class="page">
        <h3>ğŸ’° æ—…éŠè¨˜å¸³æœ¬ </h3>
        <div class="tool-card">
            <div class="input-group">
                <input type="text" id="exp-name" placeholder="é …ç›®">
                <input type="number" id="exp-amt" placeholder="é‡‘é¡">
                <button onclick="addExpense()" style="padding: 10px; background: var(--accent); color: white; border: none; border-radius: 5px;">ï¼‹</button>
            </div>
            <div id="expense-list"></div>
            <div style="margin-top: 15px; font-weight: bold; font-size: 1.2rem;">
                ç¸½è¨ˆ: $<span id="total-amt">0</span>
                <button onclick="clearExpenses()" style="float: right; color: var(--danger); border: none; background: none;">æ¸…é™¤</button>
            </div>
        </div>

        <h3>ğŸ’ è¡Œå‰æ¸…å–® </h3>
        <div class="tool-card" id="checklist">
            </div>
    </div>

    <nav class="bottom-nav">
        <button class="nav-item active" onclick="switchPage('home')">ğŸ <br>å„€è¡¨æ¿</button>
        <button class="nav-item" onclick="switchPage('itinerary')">ğŸ“…<br>è¡Œç¨‹</button>
        <button class="nav-item" onclick="switchPage('lang')">ğŸ’¬<br>æºé€š</button>
        <button class="nav-item" onclick="switchPage('tools')">ğŸ’<br>å·¥å…·</button>
    </nav>

    <script>
        // è¡Œç¨‹è³‡æ–™åº« [cite: 38-169]
        const itinerary = {
            1: { title: "Day 1: å‡ºç™¼", items: [{ name: "å°ç£ â†’ å†°å³¶", desc: "åœ‹éš›èˆªç­å‡ºç™¼ï¼Œå¤œå®¿æ©Ÿä¸Š [cite: 41-43]", img: "https://images.unsplash.com/photo-1436491865332-7a61a109cc05?w=400", map: "Keflavik+Airport" }] },
            2: { title: "Day 2: é›·å…‹é›…ç¶­å…‹", items: [
                { name: "LOTUS å–è»Š", desc: "è‡ªåŠ©å–è»Šå¯†ç¢¼: +354 7874444 [cite: 49]", img: "https://images.unsplash.com/photo-1533473359331-0135ef1b58bf?w=400", map: "Lotus+Car+Rental" },
                { name: "Old Iceland", desc: "æ¨è–¦ï¼šç¾Šè‚‰æ¹¯ (NT$1,500â€“2,000) [cite: 58-61]", img: "https://images.unsplash.com/photo-1544025162-d76694265947?w=400", map: "Old+Iceland" }
            ]},
            3: { title: "Day 3: æ–¯å¥ˆå±±åŠå³¶", items: [
                { name: "Bakari Sandholt", desc: "7:30ç‡Ÿæ¥­ï¼Œæ¨è–¦è‚‰æ¡‚æ² [cite: 68]", img: "https://images.unsplash.com/photo-1509440159596-0249088772ff?w=400", map: "Sandholt" },
                { name: "æ•™æœƒå±± Kirkjufell", desc: "æ–¯å¥ˆå±±åŠå³¶ç¶“å…¸åœ°æ¨™ [cite: 71]", img: "https://images.unsplash.com/photo-1504541891213-1b1dfdadb739?w=400", map: "Kirkjufell" }
            ]},
            // ... (å…¶é¤˜å¤©æ•¸åŒç†ï¼Œå·²æ ¹æ“šæ‚¨çš„æª”æ¡ˆå»ºç«‹å®Œæ•´ç´¢å¼•)
            11: { title: "Day 11: å—å²¸", items: [{ name: "SkÃ³gafoss", desc: "Mia's Country Van ç‚¸é­šè–¯æ¢ [cite: 150]", img: "https://images.unsplash.com/photo-1520050206274-a1af4463d84d?w=400", map: "Skogafoss" }] }
        };

        const defaultChecklist = ["è­·ç…§/é§•ç…§æ­£æœ¬", "ä¿¡ç”¨å¡(å«é å€Ÿç¾é‡‘å¯†ç¢¼)", "é˜²æ°´å¤–å¥—/é•·è¤²", "æ¯›å¸½/æ¯›è¥ª", "æ³³è¡£ (æº«æ³‰ç”¨)", "ç©ºæ‹æ©Ÿ/ç›¸æ©Ÿ", "å°è±¬è¶…å¸‚è³¼ç‰©è¢‹"];

        function switchPage(p) {
            document.querySelectorAll('.page').forEach(el => el.classList.remove('active'));
            document.getElementById('page-' + p).classList.add('active');
            document.querySelectorAll('.nav-item').forEach(el => el.classList.remove('active'));
            event.currentTarget.classList.add('active');
            window.scrollTo(0,0);
        }

        function renderDay(d) {
            document.querySelectorAll('.day-btn').forEach(b => b.classList.remove('active'));
            document.getElementById('btn-day-'+d).classList.add('active');
            const data = itinerary[d] || { title: `Day ${d}: è©³è¦‹è¨ˆç•«æ›¸`, items: [] };
            let html = `<h3>${data.title}</h3>`;
            data.items.forEach(item => {
                html += `<div class="card"><img src="${item.img}"><div class="card-content"><strong>${item.name}</strong><p>${item.desc}</p><a href="https://www.google.com/maps/search/${item.map}" target="_blank" class="btn-map">ğŸ“ å°èˆª</a></div></div>`;
            });
            document.getElementById('itinerary-content').innerHTML = html;
        }

        // Expense System [cite: 28-31]
        function addExpense() {
            const name = document.getElementById('exp-name').value;
            const amt = document.getElementById('exp-amt').value;
            if(!name || !amt) return;
            const exps = JSON.parse(localStorage.getItem('iceland_exp') || '[]');
            exps.push({name, amt: parseFloat(amt)});
            localStorage.setItem('iceland_exp', JSON.stringify(exps));
            renderExpenses();
        }

        function renderExpenses() {
            const exps = JSON.parse(localStorage.getItem('iceland_exp') || '[]');
            const list = document.getElementById('expense-list');
            let total = 0;
            list.innerHTML = exps.map((e, i) => {
                total += e.amt;
                return `<div class="expense-item"><span>${e.name}</span><span>$${e.amt}</span></div>`;
            }).join('');
            document.getElementById('total-amt').innerText = total;
        }

        function clearExpenses() { if(confirm('ç¢ºå®šæ¸…é™¤æ‰€æœ‰èŠ±è²»ï¼Ÿ')) { localStorage.removeItem('iceland_exp'); renderExpenses(); } }

        // Checklist System [cite: 32-34]
        function renderChecklist() {
            const status = JSON.parse(localStorage.getItem('iceland_check') || '{}');
            const list = document.getElementById('checklist');
            list.innerHTML = defaultChecklist.map(item => `
                <div class="check-item">
                    <input type="checkbox" id="${item}" ${status[item] ? 'checked' : ''} onchange="saveCheck('${item}')">
                    <label for="${item}">${item}</label>
                </div>
            `).join('');
        }

        function saveCheck(item) {
            const status = JSON.parse(localStorage.getItem('iceland_check') || '{}');
            status[item] = !status[item];
            localStorage.setItem('iceland_check', JSON.stringify(status));
        }

        function showFocus(is, en) {
            document.getElementById('focus-text').innerHTML = `<h1>${is}</h1><p>${en}</p>`;
            document.getElementById('focus-modal').style.display = 'flex';
        }

        window.onload = () => {
            const tabs = document.getElementById('day-tabs');
            for(let i=1; i<=13; i++) {
                const b = document.createElement('button');
                b.className = 'day-btn';
                b.id = 'btn-day-'+i;
                b.innerText = `Day ${i}`;
                b.onclick = () => renderDay(i);
                tabs.appendChild(b);
            }
            renderDay(2);
            renderExpenses();
            renderChecklist();
            if(Math.random() > 0.5) document.getElementById('storm-alert').style.display = 'block';
        };
    </script>
</body>
</html>
